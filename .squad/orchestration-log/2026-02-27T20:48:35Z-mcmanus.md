# McManus Orchestration — Agent Sandbox UI

**Timestamp:** 2026-02-27T20:48:35Z  
**Agent:** McManus (Frontend)  
**Task:** Implement sandbox chat panel for agent testing

## Deliverable

**Commit:** `41829ad` — feat: agent sandbox — chat with agents from the portal

### Changes
- `portal/src/components/AgentSandbox.tsx` (147 LOC)
  - Dark-themed chat panel with conversation history
  - Multi-turn chat: accumulates messages, sends full array on each request
  - Token usage displayed per message
  - Loading indicator and error banner
  - Integrates with backend `POST /v1/portal/agents/:id/chat`

- `portal/src/lib/api.ts`: Added `sandboxChat` function
  - Calls agent sandbox endpoint with conversation history

- `portal/src/pages/AgentsPage.tsx`
  - "Test" button per agent row (triggers AgentSandbox panel)
  - Sandbox and editor panels are mutually exclusive
  - Clear spatial separation between editing and testing flows

### Key Decision
**Agent Sandbox Chat Panel — Mutually Exclusive with Editor**
- Sandbox below table (not replacing editor area)
- Avoids conflating editing and testing flows
- No model selector exposed (server picks default)

## Status
✅ Complete
